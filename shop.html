<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
  
</head>
<body>
  <header>
    <nav>
        <ul>
            
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="shopp.html">Shop</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
   
</header>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>    <!-- add jQuery library -->
  <script src="https://www.w3schools.com/lib/w3.js"></script>  
<figure class="snip">                <!-- first -->
    <h4>Lymra Limestone</h4>
    <div class="image">
      <img class="slide1" src="6.png" />
    </div>

    <figcaption>
      <p>Bardiglio Grey Marble has been formed in millions of years under the ground. It is cut from the natural stone quarries in Afyon.</p>    
      <div class="price">
        <div class="real" data-price="19.00">$19.00</div>
      </div>
    </figcaption>
    <a class="add-to-cart" href="#">Add to Cart</a>
  </figure>
  
  <figure class="snip">                <!-- second -->
    <h4>Sugared Honey Cherry</h4>
    <div class="image">
      <img class="slide2" src="7.png" />
    </div>

    <figcaption>
      <p>Carrara marble is a type of white or blue-grey marble popular for use in sculpture and building decor. </p>    
      <div class="price">
       <div class="real" data-price="24.00">$24.00</div>
      </div>
    </figcaption>
    <a class="add-to-cart" href="#">Add to Cart</a>
  </figure>
  
  <figure class="snip">               <!-- third -->
    <h4>Barrel Brown Hickory</h4>
    <div class="image">
      <img class="slide3" src="8.png" />
    </div>

    <figcaption>
      <p>Bastille Gray material tends to effloresce in wet areas. See the Applications Guide PDF for alternatives.</p>    
      <div class="price">
        <div class="real" data-price="14.55">$14.55</div>
      </div>
    </figcaption>
    <a class="add-to-cart" href="#">Add to Cart</a>
  </figure>
  
  <figure class="snip">               <!-- Fourth -->
    <h4>Burdur Pear</h4>
    <div class="image">
      <img class="slide4" src="5.png" />
     </div>

    <figcaption>
      <p> Acacia spread to now be found throughout the Old World.</p>    
      <div class="price">
       <div class="real" data-price="26.00">$26.00</div>
      </div>
    </figcaption>
    <a class="add-to-cart" href="#">Add to Cart</a>
  </figure>


  <a class="cart" href="javascript:void(0);" title="Your Cart">
    <img src="https://4.bp.blogspot.com/-ipiLQtQy_oc/WdcKmFpW6KI/AAAAAAAABtc/mtwqfb7U_pIE18vTb8hqZiaWVngMJKm0QCLcBGAs/s1600/cart.png" />
    <span id="count-item" data-count="0">0 item</span>
  </a>
  <!-- --------------------Check out ---------------- -->
  <div class="container">
    <div class="table">
    <span class="empty">Your cart is empty!</span>
    <img class="empty" src="https://2.bp.blogspot.com/-VYC7hvhUz4U/WdcPLAr86jI/AAAAAAAABuA/G3y27JwIL_0S5OsVIp6maXjsdgLRumaTwCLcBGAs/s1600/emptycart.png" style="width:200px;"/>
    <div class="col1-name"></div>
    <div class="col2-price"></div>
    </div>
    <div class="bin"><span>Clear All</span><img id="bin" src="https://4.bp.blogspot.com/-Luy983wX20I/WdcLbR86CCI/AAAAAAAABto/g-7S5lzDEugWAQrIiwOtPn4JOkQNboxyACLcBGAs/s1600/delete.png" style="width:40px" /></div>
    <div class="total">
      <div class="total-text">Total :</div>
      <div class="total-amount">$ 0</div>
    </div>
    <div class="checkout" onclick="document.getElementById('id01').style.display='block'">Check out</div>
    
  </div>
  
          <!-- -----------------Bill------------- -->
 <div id="id01" class="modal">
  <div class="wrapper">
    <div class="bill-content">
    <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close">&times;</span>
    <h1 class="box-title">Checkout</h1>
    <div class="price-total">
      <span>PAY</span>
      <div class="pay-last">$ 0</div>
    </div>
    <form>
      
      <div class="form-text">
        <label>Card Number</label>
        <input name="card-number" type="text" required>
      </div>
      <div class="form-text">
        <label>Card Verification Value</label>
        <input name="name" type="text" placeholder="CVV" required>
      </div>
      <div class="form-text" id="col01">
        <label>Expiry Date</label>
        <input name="card-number" type="text" placeholder="MM/YY" maxlength="3" required>
      </div>
      <div class="form-text"  id="col02">
        <label>Coupon Code</label>
        <input name="card-number" type="text">
      </div>
      
      <button id="end">PAY NOW</button>
    </form>
      <button id="coupon">Get coupon code</button>
    </div>
  </div>
 </div>

 <div class="pagination">
    <a href="#">&laquo;</a>
    <a href="shopp.html">1</a>
    <a href="shop.html" class="active">2</a>
    
    <a href="#">&raquo;</a>
  </div>
 <script>
                //first: 
var slideIndex = 1;         
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("slide1");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
}

//--------------------------------------------------------------------
                                      //second: 
var slideIndex2 = 1;         
showDivs2(slideIndex2);

function plusDivs2(n) {
  showDivs2(slideIndex2 += n);
}

function showDivs2(n) {
  var i;
  var x = document.getElementsByClassName("slide2");
  if (n > x.length) {slideIndex2 = 1}    
  if (n < 1) {slideIndex2 = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex2-1].style.display = "block";  
}
//--------------------------------------------------------------------
                                     //third: using w3.js library
myslide = w3.slideshow(".slide3",0)
//--------------------------------------------------------------------

var slideIndex3 = 1;              //fourth
showDivs3(slideIndex3);

function plusDivs3(n) {
  showDivs3(slideIndex3 += n);
}

function showDivs3(n) {
  var i;
  var x = document.getElementsByClassName("slide4");
  if (n > x.length) {slideIndex3 = 1}    
  if (n < 1) {slideIndex3 = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex3-1].style.display = "block";  
}


//====================================================================
var bag =[];                    // initialize price array   
                  // Animation:
$(document).ready(function(){
  $('.cart').click(function(){
    $('.container').fadeToggle();
  });
  
  $('.checkout').addClass('disabled');
  $('#bin').addClass('disabled');
});

$(document).on('click','.add-to-cart',function(e){
  e.preventDefault();
  $('.empty').hide();
  
  //---------------------------------------------------------
  if($(this).hasClass('disable')){    //disable mutiple clicks
    return false;
  }
  $(document).find('.add-to-cart').addClass('disable');
  //---------------------------------------------------------
  
  
  
  var parent = $(this).parents('.snip');
  var src = parent.find('img').attr('src');
  var cart = $(document).find('.cart');
  
  var posTop = parent.offset().top;    //return the coordinates of a element
  var posLeft = parent.offset().left;
 
  $('<img />', { 
   class: 'animation-fly',
   src: src
}).appendTo('body').css({
    'top': posTop,      
    'left': parseInt(posLeft)
  }); 
  
  setTimeout(function(){
    $(document).find('.animation-fly').css({
      'top': cart.offset().top,
      'left': cart.offset().left
    });
    setTimeout(function(){
      $(document).find('.animation-fly').remove(); //after fly
      var quantity = parseInt(cart.find('#count-item').data('count'))+1;
//       if(quantity<2){
//         cart.find('#count-item').text(quantity + ' item').data('count', quantity);
//       }else{
//         cart.find('#count-item').text(quantity + ' items').data('count', quantity);
//       }
      cart.find('#count-item').text(quantity + (quantity<2 ?' item':' items')).data('count', quantity);
      
                             //add item to cart
    var name = parent.find('h4').text();
    var price = parent.find('.real').text();
    var txt3 = document.createElement("hr");
    var txt4 = document.createElement("hr");
       
    $('.col1-name').append(name,txt3);
    $('.col2-price').append(price,txt4);
    $('.checkout').addClass('add-animation');
    $('.checkout').removeClass('disabled');
    
    $('#bin').addClass('add-animation2');
    $('#bin').removeClass('disabled');
    
                            //find total amount
    var price2 = parseFloat(parent.find('.real').data('price')); //get "data-price" from <div class="real">
    bag.push(price2);                                            
    var total = 0;
    $(".total-amount").text(function(){
     for(var i in bag){
      total += bag[i];    //calculate sum of all numbers in the array 
     }
     var last = "$ " + total.toFixed(2);
     $('.pay-last').text(last);
     return last;   // return total only -> bug.
     
    });
      
      $(document).find('.add-to-cart').removeClass('disable');
    },1000);
  },500);
  
  $('.bin').on('click',function(){     
   $('.col1-name').empty();
   $('.col2-price').empty();
   $('.empty').show();
   $('.checkout').removeClass('add-animation');
   $('#bin').removeClass('add-animation2');
   $('.checkout').addClass('disabled');
   $('#bin').addClass('disabled');
   bag = [];
   $('.total-amount').add('.pay-last').text("$ " + bag.length);
   cart.find('#count-item').text(0 + ' item').data('count', 0);
 });
  
});




//------------------BILL----------------------

$(document).ready(function(){
  $('#coupon').on('click',function(){
    alert("minhquanghust.blogspot.com Coupon Code:" + '\n' + "25% off: 0511Q-1601CV" +'\n' + "15% off: 0511Q-1701NA" + '\n' + "10% off: 0511Q-1901QA")
  });
})

 </script>
</body>
</html>